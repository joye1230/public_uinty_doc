<img src="http://wx3.sinaimg.cn/mw690/56432499gy1fg6kzannujj20jc06rjsj.jpg">
# 狼人杀语音要求接口

## 1. 进入房间
### 1.1 功能
玩家进入语音房间，
### 1.2 请求参数
字段       |字段类型       |字段说明       |填写
------------|-----------|-----------|-----------
uid       |string        |玩家id      |必填
roomId |string |房间id,如果该ID不存在，那么创建一个房间，如果存在则加入当前房间 |必填

### 1.5 返回结果
```json
{

    "code": 0,
    "error_msg":"",
}
```
#### 1.6 字段说明
字段       |字段类型       |字段说明
------------|-----------|-----------
code     |int        |错误码,没有错误为0
error_msg |string        |错误信息,平时为空，错误码不为0的情况下会返回错误信息



## 2. 当前语音开关功能

### 2.1 功能

开启语音功能，则玩家可以接收到房间内广播的语音，如果关闭则无法接收房间内广播消息

### 2.2 请求参数

| 字段      | 字段类型 | 字段说明                                      | 填写 |
| --------- | -------- | --------------------------------------------- | ---- |
| uid       | string   | 玩家id                                        | 必填 |
| roomId    | string   | 房间id                                        | 必填 |
| openvoice | bool     | 如果为true，那么打开语音，如果为flase关闭语音 | 必填 |

### 2.3 返回结果

```json
{

    "code": 0,
    "error_msg":"",
}
```

#### 2.4 字段说明

| 字段      | 字段类型 | 字段说明                                             |
| --------- | -------- | ---------------------------------------------------- |
| code      | int      | 错误码,没有错误为0                                   |
| error_msg | string   | 错误信息,平时为空，错误码不为0的情况下会返回错误信息 |





## 3. 当前麦克风功能开关

### 3.1 功能

开启麦克风或者关闭麦克风，如果传来参数为true则开启麦克风进行录音，如果false那么关闭麦克风停止录音

录音的结果会广播给大厅内所有用户

### 3.2 请求参数

| 字段    | 字段类型 | 字段说明                                      | 填写 |
| ------- | -------- | --------------------------------------------- | ---- |
| uid     | string   | 玩家id                                        | 必填 |
| roomId  | string   | 房间id                                        | 必填 |
| openmic | bool     | 如果为true，那么打开麦克风，如果为flase麦克风 | 必填 |

### 3.3 返回结果

```json
{

    "code": 0,
    "error_msg":"",
}
```

#### 3.4 字段说明

| 字段      | 字段类型 | 字段说明                                             |
| --------- | -------- | ---------------------------------------------------- |
| code      | int      | 错误码,没有错误为0                                   |
| error_msg | string   | 错误信息,平时为空，错误码不为0的情况下会返回错误信息 |



## 4. 退出当前房间

## 4.1 功能

退出当前房间，退出后不再接收房间内的广播消息

### 4.2 请求参数

| 字段   | 字段类型 | 字段说明 | 填写 |
| ------ | -------- | -------- | ---- |
| uid    | string   | 玩家id   | 必填 |
| roomId | string   | 房间id   | 必填 |

### 4.3 返回结果

```json
{

    "code": 0,
    "error_msg":"",
}
```

#### 4.4 字段说明

| 字段      | 字段类型 | 字段说明                                             |
| --------- | -------- | ---------------------------------------------------- |
| code      | int      | 错误码,没有错误为0                                   |
| error_msg | string   | 错误信息,平时为空，错误码不为0的情况下会返回错误信息 |



#### 如果出现错误，返回错误信息,后续文档逐渐增加
状态码       |说明
------------|-----------
0       |返回成功
10000       |网络错误服务器连接失败


```json
{
  "code": 1001,
  "error_msg":"玩家id不存在"
}
```
